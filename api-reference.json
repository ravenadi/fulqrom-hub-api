{
  "apiInfo": {
    "title": "Fulqrom Hub REST API",
    "description": "Australian Commercial Real Estate & HVAC Building Management System API",
    "version": "1.0.0",
    "baseUrl": "http://localhost:30001",
    "database": "MongoDB Atlas - fulqrom-hub collection"
  },
  "endpoints": {
    "health": {
      "method": "GET",
      "path": "/health",
      "description": "API health check",
      "response": {
        "status": "OK",
        "timestamp": "2025-09-24T07:07:07.052Z",
        "service": "Fulqrom Hub API",
        "version": "1.0.0"
      }
    },
    "root": {
      "method": "GET",
      "path": "/",
      "description": "API information and endpoint list",
      "response": {
        "message": "Fulqrom Hub REST API",
        "description": "Australian Commercial Real Estate & HVAC Building Management System",
        "version": "1.0.0",
        "endpoints": {
          "health": "/health",
          "customers": "/api/customers",
          "sites": "/api/sites",
          "buildings": "/api/buildings",
          "floors": "/api/floors",
          "assets": "/api/assets",
          "building_tenants": "/api/building_tenants"
        }
      }
    },
    "customers": {
      "list": {
        "method": "GET",
        "path": "/api/customers",
        "description": "Get all customers with pagination and filtering",
        "queryParams": {
          "page": "integer (default: 1) - Page number",
          "limit": "integer (default: 10, max: 100) - Items per page",
          "is_active": "boolean - Filter by active status",
          "state": "string - Australian state (NSW, VIC, QLD, WA, SA, TAS, ACT, NT)",
          "search": "string (max: 200) - Search in organisation names",
          "sortBy": "string (organisation.organisation_name|createdAt|updatedAt) - Sort field",
          "sortOrder": "string (asc|desc) - Sort direction"
        },
        "response": {
          "success": true,
          "count": 8,
          "totalCount": 8,
          "totalPages": 1,
          "currentPage": 1,
          "hasNextPage": false,
          "hasPrevPage": false,
          "data": "Array of customer objects (see customer structure below)"
        }
      },
      "getById": {
        "method": "GET",
        "path": "/api/customers/:id",
        "description": "Get single customer by ObjectID",
        "params": {
          "id": "MongoDB ObjectID (24-character hex string)"
        },
        "response": {
          "success": true,
          "data": "Single customer object (see customer structure below)"
        }
      },
      "create": {
        "method": "POST",
        "path": "/api/customers",
        "description": "Create new customer",
        "status": "IMPLEMENTED",
        "requestBody": {
          "organisation": {
            "organisation_name": "string (required)",
            "email_domain": "string (optional)",
            "logo_url": "string (optional)",
            "notes": "string (optional)",
            "metadata": "object (optional)"
          },
          "company_profile": {
            "business_number": "string (optional, ABN format)",
            "company_number": "string (optional, ACN format)",
            "trading_name": "string (optional)",
            "industry_type": "string (optional)",
            "organisation_size": "string (optional)"
          },
          "business_address": {
            "street": "string (optional)",
            "suburb": "string (optional)",
            "state": "string (optional)",
            "postcode": "string (optional, 4 digits)"
          },
          "postal_address": {
            "street": "string (optional)",
            "suburb": "string (optional)",
            "state": "string (optional)",
            "postcode": "string (optional, 4 digits)"
          },
          "contact_methods": "array (optional)",
          "metadata": "array (optional)",
          "is_active": "boolean (optional, default: true)"
        },
        "response": {
          "success": true,
          "message": "Customer created successfully",
          "data": "Created customer object with _id, timestamps"
        }
      },
      "update": {
        "method": "PUT",
        "path": "/api/customers/:id",
        "description": "Update existing customer (PENDING IMPLEMENTATION)",
        "status": "NOT_IMPLEMENTED",
        "params": {
          "id": "MongoDB ObjectID (24-character hex string)"
        },
        "requestBody": "Partial customer object"
      },
      "delete": {
        "method": "DELETE",
        "path": "/api/customers/:id",
        "description": "Delete customer (PENDING IMPLEMENTATION)",
        "status": "NOT_IMPLEMENTED",
        "params": {
          "id": "MongoDB ObjectID (24-character hex string)"
        }
      }
    },
    "sites": {
      "list": {
        "method": "GET",
        "path": "/api/sites",
        "description": "Get all sites",
        "response": {
          "success": true,
          "count": "number",
          "data": "Array of site objects"
        }
      },
      "getById": {
        "method": "GET",
        "path": "/api/sites/:id",
        "description": "Get single site by ID"
      },
      "create": {
        "method": "POST",
        "path": "/api/sites",
        "description": "Create new site"
      }
    },
    "buildings": {
      "list": {
        "method": "GET",
        "path": "/api/buildings",
        "description": "Get all buildings"
      },
      "getById": {
        "method": "GET",
        "path": "/api/buildings/:id",
        "description": "Get single building by ID"
      },
      "create": {
        "method": "POST",
        "path": "/api/buildings",
        "description": "Create new building"
      },
      "stats": {
        "method": "GET",
        "path": "/api/buildings/summary/stats",
        "description": "Get building statistics"
      },
      "byCategory": {
        "method": "GET",
        "path": "/api/buildings/by-category",
        "description": "Group buildings by category"
      }
    },
    "floors": {
      "list": {
        "method": "GET",
        "path": "/api/floors",
        "description": "Get all floors"
      },
      "getById": {
        "method": "GET",
        "path": "/api/floors/:id",
        "description": "Get single floor by ID"
      },
      "create": {
        "method": "POST",
        "path": "/api/floors",
        "description": "Create new floor"
      },
      "update": {
        "method": "PUT",
        "path": "/api/floors/:id",
        "description": "Update floor"
      },
      "byBuilding": {
        "method": "GET",
        "path": "/api/floors/by-building/:buildingId",
        "description": "Get floors by building"
      },
      "stats": {
        "method": "GET",
        "path": "/api/floors/summary/stats",
        "description": "Get floor statistics"
      },
      "byType": {
        "method": "GET",
        "path": "/api/floors/by-type",
        "description": "Group floors by type"
      }
    },
    "assets": {
      "list": {
        "method": "GET",
        "path": "/api/assets",
        "description": "Get all assets"
      },
      "getById": {
        "method": "GET",
        "path": "/api/assets/:id",
        "description": "Get single asset by ID"
      },
      "create": {
        "method": "POST",
        "path": "/api/assets",
        "description": "Create new asset"
      },
      "update": {
        "method": "PUT",
        "path": "/api/assets/:id",
        "description": "Update asset"
      },
      "stats": {
        "method": "GET",
        "path": "/api/assets/summary/stats",
        "description": "Get asset statistics"
      }
    },
    "building_tenants": {
      "list": {
        "method": "GET",
        "path": "/api/building_tenants",
        "description": "Get all building tenants",
        "queryParams": {
          "customer_id": "Filter by customer ID",
          "site_id": "Filter by site ID",
          "building_id": "Filter by building ID",
          "floor_id": "Filter by floor ID",
          "tenant_status": "Filter by tenant status",
          "lease_type": "Filter by lease type",
          "industry_type": "Filter by industry type",
          "lease_expiring_soon": "boolean - Filter leases expiring in 30 days",
          "is_active": "boolean - Filter by active status"
        },
        "response": {
          "success": true,
          "count": "number",
          "summary": {
            "total_tenants": "number",
            "active_tenants": "number",
            "leases_expiring_soon": "number",
            "total_occupied_area": "number",
            "total_employees": "number",
            "total_parking_spaces": "number"
          },
          "data": "Array of tenant objects"
        }
      },
      "getById": {
        "method": "GET",
        "path": "/api/building_tenants/:id",
        "description": "Get single tenant by ID"
      },
      "create": {
        "method": "POST",
        "path": "/api/building_tenants",
        "description": "Create new tenant",
        "requestBody": {
          "customer_id": "ObjectId (required)",
          "site_id": "ObjectId (optional)",
          "building_id": "ObjectId (optional)",
          "floor_id": "ObjectId (optional)",
          "tenant_legal_name": "string",
          "tenant_trading_name": "string",
          "abn": "string (11 digits)",
          "acn": "string (9 digits)",
          "lease_type": "string (Commercial, Medical, Retail, etc.)",
          "lease_start_date": "Date",
          "lease_end_date": "Date",
          "occupied_area": "number",
          "number_of_employees": "number",
          "allocated_parking_spaces": "number",
          "operating_hours_start": "string (HH:MM)",
          "operating_hours_end": "string (HH:MM)",
          "operating_days": "string",
          "primary_contact_name": "string",
          "primary_contact_title": "string",
          "primary_contact_phone": "string",
          "primary_contact_email": "string",
          "industry_type": "string",
          "business_category": "string",
          "rental_rate": "number",
          "tenant_status": "string (Active, Inactive, etc.)"
        }
      },
      "update": {
        "method": "PUT",
        "path": "/api/building_tenants/:id",
        "description": "Update tenant"
      },
      "byBuilding": {
        "method": "GET",
        "path": "/api/building_tenants/by-building/:buildingId",
        "description": "Get tenants by building"
      },
      "stats": {
        "method": "GET",
        "path": "/api/building_tenants/summary/stats",
        "description": "Get tenant statistics"
      },
      "byIndustry": {
        "method": "GET",
        "path": "/api/building_tenants/by-industry",
        "description": "Group tenants by industry type"
      }
    },
    "debug": {
      "collections": {
        "method": "GET",
        "path": "/api/customers/debug/collections",
        "description": "List available MongoDB collections",
        "response": {
          "success": true,
          "collections": ["customers"],
          "currentModel": "customers"
        }
      }
    }
  },
  "customerStructure": {
    "_id": "MongoDB ObjectID",
    "organisation": {
      "organisation_name": "string (required, max: 200)",
      "email_domain": "string (optional, domain format)",
      "logo_url": "string (optional, URL format)",
      "notes": "string (optional, max: 2000)",
      "metadata": "object (optional, free-form data)"
    },
    "company_profile": {
      "business_number": "string (optional, ABN format with spaces)",
      "company_number": "string (optional, ACN format with spaces)",
      "trading_name": "string (optional)",
      "industry_type": "enum (Technology|Healthcare|Government|Retail|Hospitality|Industrial|Service|Finance|Education)",
      "organisation_size": "enum (1-10|11-50|51-200|201-500|501-1000|1001+)"
    },
    "business_address": {
      "street": "string (required, max: 100)",
      "suburb": "string (required, max: 50)",
      "state": "enum (NSW|VIC|QLD|WA|SA|TAS|ACT|NT)",
      "postcode": "string (required, 4 digits)"
    },
    "postal_address": {
      "street": "string (required, max: 100)",
      "suburb": "string (required, max: 50)",
      "state": "enum (NSW|VIC|QLD|WA|SA|TAS|ACT|NT)",
      "postcode": "string (required, 4 digits)"
    },
    "contact_methods": [
      {
        "_id": "MongoDB ObjectID (auto-generated)",
        "full_name": "string (required, max: 100)",
        "job_title": "string (optional)",
        "department": "string (optional)",
        "role_type": "enum (Primary|Billing|Technical|General|Emergency|Project)",
        "contact_type": "enum (Internal|External|Supplier|Customer|Contractor|Consultant|Emergency|Billing|Technical)",
        "platform_access": "enum (Administrative|Operational|View Only|No Access)",
        "method_type": "enum (Email|Phone|SMS|WhatsApp)",
        "method_value": "string (required)",
        "label": "string (optional)",
        "is_primary": "boolean (default: false)",
        "createdAt": "DateTime",
        "updatedAt": "DateTime"
      }
    ],
    "metadata": [
      {
        "key": "string (required)",
        "value": "string (required)"
      }
    ],
    "is_active": "boolean (default: true)",
    "createdAt": "DateTime",
    "updatedAt": "DateTime",
    "__v": "number (MongoDB version key)",
    "full_business_address": "string (virtual field - formatted address)",
    "full_postal_address": "string (virtual field - formatted address)",
    "primary_contact": "object (virtual field - first contact with is_primary: true)",
    "display_name": "string (virtual field - organisation.organisation_name)",
    "abn_display": "string (virtual field - company_profile.business_number)",
    "id": "string (virtual field - same as _id)"
  },
  "sampleApiCalls": {
    "getAllCustomers": "curl -X GET http://localhost:30001/api/customers",
    "getCustomersWithPagination": "curl -X GET 'http://localhost:30001/api/customers?page=1&limit=5'",
    "filterByState": "curl -X GET 'http://localhost:30001/api/customers?state=NSW'",
    "filterByActive": "curl -X GET 'http://localhost:30001/api/customers?is_active=true'",
    "searchCustomers": "curl -X GET 'http://localhost:30001/api/customers?search=Sydney'",
    "sortByName": "curl -X GET 'http://localhost:30001/api/customers?sortBy=organisation.organisation_name&sortOrder=asc'",
    "getSingleCustomer": "curl -X GET http://localhost:30001/api/customers/68d395f9c7ad6627ad607f07",
    "createCustomer": "curl -X POST http://localhost:30001/api/customers -H 'Content-Type: application/json' -d '{\"organisation\":{\"organisation_name\":\"Test Company\"}}'",
    "healthCheck": "curl -X GET http://localhost:30001/health"
  },
  "errorResponses": {
    "400": {
      "success": false,
      "message": "Validation error message",
      "details": "Object with validation details"
    },
    "404": {
      "success": false,
      "message": "Customer not found",
      "details": {
        "customerId": "ObjectID"
      }
    },
    "500": {
      "success": false,
      "message": "Internal server error",
      "error": "Error details"
    }
  },
  "validationRules": {
    "organisation_name": "Required, string, max 200 characters",
    "email_domain": "Optional, valid domain format",
    "business_number": "Optional, ABN format (11 digits with spaces)",
    "company_number": "Optional, ACN format (9 digits with spaces)",
    "postcode": "Required, exactly 4 digits",
    "state": "Required, must be valid Australian state",
    "method_type": "Required for contact methods",
    "method_value": "Required for contact methods",
    "full_name": "Required for contact methods, max 100 characters"
  },
  "australianConstants": {
    "states": ["NSW", "VIC", "QLD", "WA", "SA", "TAS", "ACT", "NT"],
    "organisationSizes": ["1-10", "11-50", "51-200", "201-500", "501-1000", "1001+"],
    "industryTypes": ["Technology", "Healthcare", "Government", "Retail", "Hospitality", "Industrial", "Service", "Finance", "Education"],
    "roleTypes": ["Primary", "Billing", "Technical", "General", "Emergency", "Project"],
    "contactTypes": ["Internal", "External", "Supplier", "Customer", "Contractor", "Consultant", "Emergency", "Billing", "Technical"],
    "platformAccess": ["Administrative", "Operational", "View Only", "No Access"],
    "methodTypes": ["Email", "Phone", "SMS", "WhatsApp"]
  },
  "databaseInfo": {
    "connectionString": "mongodb+srv://shriramsoft_db_user:nbNKl1V3TpBAQhfo@cluster0.mulczg0.mongodb.net/fulqrom-hub",
    "database": "fulqrom-hub",
    "collection": "customers",
    "totalCustomers": 8,
    "sampleObjectIds": [
      "68d395f9c7ad6627ad607f07",
      "68d395f9c7ad6627ad607f0a",
      "68d395f9c7ad6627ad607f0d",
      "68d395f9c7ad6627ad607f10",
      "68d395f9c7ad6627ad607f12",
      "68d395f9c7ad6627ad607f15",
      "68d395f9c7ad6627ad607f17",
      "68d395f9c7ad6627ad607f1a"
    ]
  },
  "notes": {
    "schemaAlignment": "All schemas are aligned between database model, validation, and API responses",
    "dataFormat": "API returns exact same structure as data/sample-customers.json",
    "pendingImplementation": [
      "PUT /api/customers/:id - Update customer",
      "DELETE /api/customers/:id - Delete customer",
      "Advanced search functionality",
      "Bulk operations"
    ],
    "testingDatabase": "To test edits, use ObjectID from sampleObjectIds array above"
  }
}